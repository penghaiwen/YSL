webpackJsonp([1],{M1bM:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),r=a.n(n),i=a("7+uW"),s=a("zL8q"),o=a.n(s),l=(a("tvR6"),a("mvHQ")),c=a.n(l),u=a("BO1k"),p=a.n(u),d=a("Xxa5"),m=a.n(d),h=a("exGp"),f=a.n(h),v={name:"mainDiv",components:{},data:function(){return{jsonParam:{required:[],properties:{}},queryParam:[],query:{},prefix:"",contentType:"",responseData:{}}},props:{modelData:{},mainData:{}},mounted:function(){},methods:{getType:function(e){return"get"==e?"primary":"post"==e?"success":"put"==e?"warning":"danger"},copyRequest:function(){var e=void 0,t="";e="GET"==this.mainData.method?"params: params ,":"data: params ","application/json"==this.mainData.contentType&&(t=",\n\t\theaders: { 'Content-Type':'application/json;charset=utf-8' }");var a="// "+this.mainData.summary+"\nexport function "+this.prefix+"(params) {\n\t\t return request({\n\t\t\t\t url: '"+this.mainData.url+"',\n\t\t\t\t\tmethod:'"+this.mainData.method+"',\n\t\t\t\t\t"+e+t+"\n\t\t })\n}";return this.copy(a),a},onCopy:function(e){var t=e.replace(new RegExp("</br>","gm"),"\n\t\t\t\t");this.copy(t)},copy:function(e){var t=this;this.$copyText(e).then(function(a){t.$message({message:"成功复制："+e,type:"info",showClose:!0})})},init:function(){this.jsonParam={},this.query={},this.prefix=this.mainData.operationId.split("Using")[0];var e=this.mainData.responses[200].schema.$ref.split("/")[2];this.mainData.responsesData=this.modelData[e].model,this.responseData={},this.responseData=this.diguiSetValue({},this.mainData.responsesData)},submit:function(){var e=this;return f()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$http({url:e.mainData.url,method:e.mainData.method,params:e.query,headers:{"Content-Type":"application/json"==e.mainData.contentType?"application/json;charset=utf-8":"application/x-www-form-urlencoded;charset=utf-8"}}).then(function(t){0==t.ret?e.$message({message:"数据请求成功",type:"success",showClose:!0}):e.$message({message:t.msg,type:"success",showClose:!0}),e.responseData=t.data}).catch(function(t){e.responseData=t.response,e.$message({message:"数据请求失败",type:"error",showClose:!0})});case 1:case"end":return t.stop()}},t,e)}))()},diguiStringtifyJson:function(e){var t="";if(e){t+="{</br>";var a=!0,n=!1,r=void 0;try{for(var i,s=p()(e);!(a=(i=s.next()).done);a=!0){var o=i.value;t=o.children&&o.children.length>0?t+o.name+":"+this.diguiStringtifyJson(o.children)+"</br>":t+o.name+":'', // "+(o.description?o.description:"")+"</br>"}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}t+="},"}return t},diguiSetValue:function(e,t){var a=!1;if(t){var n=!0,r=!1,i=void 0;try{for(var s,o=p()(t);!(n=(s=o.next()).done);n=!0){var l=s.value;l.children&&l.children.length>0?(a=l.name,e[l.name]={},this.diguiSetValue(e[l.name],l.children)):e[l.name]=""}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}return a?e[a]:e}},computed:{requestJson:function(){return c()(this.diguiSetValue({},this.mainData.parameters))},params:function(){var e=this.diguiStringtifyJson(this.mainData.parameters);return"application/json"==this.mainData.contentType?e.substring(1,e.length-2):this.prefix+"Params: </br>"+e}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    请求信息："+e._s(e.mainData.summary)+" createBy "+e._s(e.mainData.description)+"\n    "),a("el-button",{on:{click:e.copyRequest}},[e._v("复制接口")])],1),e._v(" "),a("div",{staticClass:"main-header"},[a("el-input",{staticClass:"main-header-input",attrs:{title:"copy请求地址",placeholder:"请输入内容"},nativeOn:{click:function(t){return e.copy(e.mainData.url)}},model:{value:e.mainData.url,callback:function(t){e.$set(e.mainData,"url",t)},expression:"mainData.url"}}),e._v(" "),a("span",[e._v(e._s(e.mainData.contentType))]),e._v(" "),a("el-button",{attrs:{type:e.getType(e.mainData.method)},on:{click:e.submit}},[e._v("debug："+e._s(e.mainData.method))])],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("请求参数")]),e._v(" "),e.mainData.parameters?a("div",{staticClass:"main-request"},[a("div",{staticClass:"request-table"},[a("el-table",{attrs:{size:"medium",data:e.mainData.parameters,"row-key":"name",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"name",label:"参数名称",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"in",label:"in",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return["date-time"==t.row.format?a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.query[t.row.name],callback:function(a){e.$set(e.query,t.row.name,a)},expression:"query[scope.row.name]"}}):"file"==t.row.type?a("el-upload",{attrs:{action:e.mainData.url,"auto-upload":!1,multiple:"",limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1):a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.row.children,expression:"!scope.row.children"}],attrs:{size:"mini",placeholder:t.row.description},model:{value:e.query[t.row.name],callback:function(a){e.$set(e.query,t.row.name,a)},expression:"query[scope.row.name]"}})]}}],null,!1,1101260519)}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"required",label:"必填",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.required?"是":"否"))]}}],null,!1,3752361592)}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.type)+"-\n            "+e._s(t.row.format)+"\n          ")]}}],null,!1,2177920564)})],1)],1),e._v(" "),a("div",{staticClass:"request-json"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onCopy(e.params)}}},[e._v("copy")]),e._v(" "),a("div",[a("span",{domProps:{innerHTML:e._s(e.params)}})])],1)]):a("div",[e._v("无")]),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("返回参数")]),e._v(" "),a("div",{staticClass:"main-response"},[a("div",{staticClass:"info"},[a("el-table",{attrs:{data:e.mainData.responsesData,"row-key":"name",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"name",label:"参数名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"参数说明",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"参数类型",width:"100"}})],1)],1),e._v(" "),a("json-viewer",{staticClass:"json",attrs:{value:e.responseData,"expand-depth":3,sort:""}})],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("底线")])],1)},staticRenderFns:[]};var y=a("VU/8")(v,b,!1,function(e){a("OHgK")},"data-v-7d05943e",null).exports,g=a("mtWM"),_=a.n(g),k={data:function(){return{configDialogVisible:!1,dialogVisible:!1,token:"",username:"",password:"",searchName:"",allMenuList:[],menuList:[],mainData:{},modelData:{},definitions:{},showMain:!1,doc:{info:{}}}},components:{mainDiv:y},created:function(){this.getDoc(),this.token=localStorage.getItem("token")},methods:{confirmConfig:function(){localStorage.setItem("token",this.token),this.configDialogVisible=!1},clearAndSerch:function(){this.searchName="",this.getDoc(),this.enterSearch()},enterSearch:function(){var e=this;this.menuList=[],JSON.parse(localStorage.getItem("menu")).filter(function(t){if(t.name.includes(e.searchName))return e.menuList.push(t),!0;var a=[];t.child&&t.child.length>0&&(a=t.child.filter(function(t){return t.url.includes(e.searchName)||t.summary.includes(e.searchName)||t.tags[0].includes(e.searchName)})),a.length>0&&e.menuList.push({name:t.name,description:t.description,child:a})})},login:function(){var e=this;return f()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"/oauth/token",method:"post",data:{username:e.username,password:e.password,grant_type:"password"},headers:{Authorization:"Basic Y3pkOmN6ZA=="}});case 2:200==(a=t.sent).status&&a.data.access_token?(localStorage.setItem("token",a.data.access_token),e.dialogVisible=!1,e.$message({message:"登录成功",type:"success",showClose:!0})):e.$message({message:a.status+"-"+a.data,type:"info",showClose:!0});case 4:case"end":return t.stop()}},t,e)}))()},onClickMenu:function(e){var t=this;this.mainData=e,this.showMain=!0,this.$nextTick(function(){t.$refs.mainData.init()})},getDoc:function(){var e=this;return f()(m.a.mark(function t(){var a,n,r,i,s,o,l,u,d,h,f,v,b,y,g,_,k,w,x,D,C,$,q,S,V,M,T,N,O,j,L,R,I,P,z,H,A,E,F,B,J,U,G,K;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"v2/api-docs",method:"get"});case 2:if(200==(a=t.sent).status){t.next=5;break}return t.abrupt("return");case 5:if(e.doc=a.data,n=a.data.definitions){t.next=9;break}return t.abrupt("return");case 9:for(i in r=[],n)for(o in n[i].model=[],s=n[i].required?n[i].required:[],n[i].properties)l=n[i].properties[o],Boolean(l.$ref)&&(u=l.$ref.split("/")[2],Boolean(n[u])&&n[u].model?l.children=n[u].model:r.push(i)),d={name:o,description:l.description,format:l.format,children:l.children,$ref:l.$ref,required:s.indexOf(o)>-1},n[i].model.push(d);h=!0,f=!1,v=void 0,t.prev=14,b=p()(r);case 16:if(h=(y=b.next()).done){t.next=40;break}for(g=y.value,_=!0,k=!1,w=void 0,t.prev=21,x=p()(n[g].model);!(_=(D=x.next()).done);_=!0)(C=D.value).$ref&&($=C.$ref.split("/")[2],Boolean(n[$])&&n[$].model&&(C.children=n[$].model));t.next=29;break;case 25:t.prev=25,t.t0=t.catch(21),k=!0,w=t.t0;case 29:t.prev=29,t.prev=30,!_&&x.return&&x.return();case 32:if(t.prev=32,!k){t.next=35;break}throw w;case 35:return t.finish(32);case 36:return t.finish(29);case 37:h=!0,t.next=16;break;case 40:t.next=46;break;case 42:t.prev=42,t.t1=t.catch(14),f=!0,v=t.t1;case 46:t.prev=46,t.prev=47,!h&&b.return&&b.return();case 49:if(t.prev=49,!f){t.next=52;break}throw v;case 52:return t.finish(49);case 53:return t.finish(46);case 54:e.modelData=n,q=e.doc.paths,S=[],S=e.doc.tags,t.t2=m.a.keys(q);case 59:if((t.t3=t.t2()).done){t.next=116;break}if(V=t.t3.value,(M={}).url=V,!q.hasOwnProperty(V)){t.next=95;break}T=q[V],t.t4=m.a.keys(T);case 66:if((t.t5=t.t4()).done){t.next=95;break}if(N=t.t5.value,M.method=N,!T.hasOwnProperty(N)){t.next=93;break}if(O=T[N],!(j=O.parameters)){t.next=92;break}for(L=!0,R=!1,I=void 0,t.prev=76,P=p()(j);!(L=(z=P.next()).done);L=!0)(H=z.value)&&H.schema&&H.schema.$ref&&(A=H.schema.$ref.split("/")[2],n[A]&&(H.children=n[A].model),O.contentType="application/json");t.next=84;break;case 80:t.prev=80,t.t6=t.catch(76),R=!0,I=t.t6;case 84:t.prev=84,t.prev=85,!L&&P.return&&P.return();case 87:if(t.prev=87,!R){t.next=90;break}throw I;case 90:return t.finish(87);case 91:return t.finish(84);case 92:for(E in O)O.hasOwnProperty(E)&&(M[E]=O[E]);case 93:t.next=66;break;case 95:for(F=!0,B=!1,J=void 0,t.prev=98,U=p()(S);!(F=(G=U.next()).done);F=!0)(K=G.value).name==M.tags[0]&&(K.child||(K.child=[]),K.child.push(M));t.next=106;break;case 102:t.prev=102,t.t7=t.catch(98),B=!0,J=t.t7;case 106:t.prev=106,t.prev=107,!F&&U.return&&U.return();case 109:if(t.prev=109,!B){t.next=112;break}throw J;case 112:return t.finish(109);case 113:return t.finish(106);case 114:t.next=59;break;case 116:e.allMenuList=e.menuList=S,localStorage.setItem("menu",c()(e.allMenuList)),console.log(S);case 119:case"end":return t.stop()}},t,e,[[14,42,46,54],[21,25,29,37],[30,,32,36],[47,,49,53],[76,80,84,92],[85,,87,91],[98,102,106,114],[107,,109,113]])}))()}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",[a("div",{staticClass:"header-title"},[e._v(e._s(e.doc?e.doc.info.title:""))]),e._v(" "),a("div",{staticClass:"header-seach"},[a("el-input",{attrs:{placeholder:"搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearch(t)}},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.enterSearch},slot:"append"})],1)],1),e._v(" "),a("div",{staticClass:"header-right"},[a("el-button",{attrs:{type:"success"},on:{click:e.clearAndSerch}},[e._v("刷新菜单")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("登录")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.configDialogVisible=!0}}},[e._v("系统配置")])],1)]),e._v(" "),a("el-container",[a("el-aside",{staticClass:"el-aside-vertical",attrs:{width:"300px"}},[a("el-menu",{attrs:{"unique-opened":"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"}},e._l(e.menuList,function(t,n){return a("el-submenu",{key:n,attrs:{index:n.toString()}},[a("template",{slot:"title"},[a("el-badge",{attrs:{value:t.child.length,type:t.child.length>10?"primary":"success"}}),e._v(" "),a("span",[e._v(e._s(t.name))])],1),e._v(" "),e._l(t.child,function(t){return a("el-menu-item",{key:n+t.operationId,staticClass:"menu-item-bg",class:{line:t.deprecated},attrs:{index:n+t.operationId},on:{click:function(a){return e.onClickMenu(t)}}},["get"==t.method?a("b",{staticClass:"blue"},[e._v(e._s(t.method))]):"post"==t.method?a("b",{staticClass:"green"},[e._v(e._s(t.method))]):"put"==t.method?a("b",{staticClass:"yellow"},[e._v(e._s(t.method))]):a("b",{staticClass:"red"},[e._v(e._s(t.method))]),e._v("\n              - "+e._s(t.summary)+"\n            ")])})],2)}),1)],1),e._v(" "),a("el-main",[e.showMain?a("main-div",{ref:"mainData",attrs:{mainData:e.mainData,modelData:e.modelData}}):e._e()],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"登录操作",visible:e.dialogVisible,width:"width"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"账号：","label-width":"100px"}},[a("el-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码：","label-width":"100px"}},[a("el-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"系统配置",visible:e.configDialogVisible,width:"60%"},on:{"update:visible":function(t){e.configDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"180px"}},[a("el-form-item",{attrs:{label:"Authorization:"}},[a("el-input",{attrs:{placeholder:"请将token放入此处"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.configDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmConfig}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var x={name:"app",components:{home:a("VU/8")(k,w,!1,function(e){a("M1bM")},"data-v-82847744",null).exports}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("home")],1)},staticRenderFns:[]};var C=a("VU/8")(x,D,!1,function(e){a("Rpbv")},null,null).exports,$=a("R0ti"),q=a.n($),S=a("mw3O"),V=a.n(S),M=a("wvfG"),T=a.n(M);T.a.config.autoSetContainer=!0,i.default.use(T.a),_.a.defaults.timeout=5e4,_.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",_.a.defaults.baseURL="/",i.default.prototype.$http=_.a,_.a.interceptors.request.use(function(e){var t=localStorage.getItem("token");return!e.headers.Authorization&&t&&(e.headers.Authorization="bearer "+t),"post"===e.method&&(e.data=V.a.stringify(e.data)),e},function(e){return r.a.reject(e)}),i.default.use(q.a),i.default.use(o.a),i.default.config.productionTip=!1,new i.default({render:function(e){return e(C)}}).$mount("#app")},OHgK:function(e,t){},Rpbv:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
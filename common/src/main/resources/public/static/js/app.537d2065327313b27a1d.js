webpackJsonp([1],{DIwv:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),s=a("7+uW"),r=a("zL8q"),o=a.n(r),l=(a("tvR6"),a("BO1k")),c=a.n(l),u=a("mvHQ"),d=a.n(u),p=a("Xxa5"),m=a.n(p),v=a("exGp"),f=a.n(v),h={name:"mainDiv",data:function(){return{query:{},prefix:"",responseData:{}}},props:{mainData:{}},mounted:function(){},methods:{onCopy:function(e){var t=e.replace(new RegExp("</br>","gm"),"\n ");this.copy(t)},copy:function(e){var t=this;this.$copyText(e).then(function(a){t.$message({message:"成功复制："+e,type:"info",showClose:!0})})},init:function(){this.responseData={},this.prefix=this.mainData.operationId.split("Using")[0]},submit:function(){var e=this;return f()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:e.mainData.url,method:e.mainData.method,data:e.query});case 2:a=t.sent,e.responseData=a.data;case 4:case"end":return t.stop()}},t,e)}))()}},computed:{params:function(){if(this.mainData.parameters){var e=this.prefix+"Params: {</br>";return this.mainData.parameters.forEach(function(t){e=e+t.name+":'', // "+(t.description?t.description:"")+"</br>"}),e+="}"}return""}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("请求信息："+e._s(e.mainData.summary)+" createBy "+e._s(e.mainData.description))]),e._v(" "),a("div",{staticClass:"main-header"},[a("el-input",{staticClass:"btn-debbuger",attrs:{title:"点击复制",placeholder:"请输入内容"},nativeOn:{click:function(t){return e.copy(e.mainData.url)}},model:{value:e.mainData.url,callback:function(t){e.$set(e.mainData,"url",t)},expression:"mainData.url"}},[a("el-button",{attrs:{slot:"prepend",type:"primary"},slot:"prepend"},[e._v(e._s(e.mainData.method))])],1),e._v(" "),a("el-button",{staticClass:"btn-debbuger",attrs:{type:"primary"},on:{click:e.submit}},[e._v("测试请求数据")])],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("请求参数")]),e._v(" "),a("div",{staticClass:"main-request"},[a("el-form",{staticClass:"request-ruleForm",attrs:{model:e.query,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"参数名"}},[e._v("参数值")]),e._v(" "),e._l(e.mainData.parameters,function(t){return a("div",{key:t.name,staticClass:"main-line"},[a("el-form-item",{attrs:{label:t.name}},["file"==t.type?a("el-upload",{attrs:{action:e.mainData.url,"auto-upload":!1,multiple:"",limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1):a("el-input",{staticClass:"main-line-input",attrs:{placeholder:t.description},model:{value:e.query[t.name],callback:function(a){e.$set(e.query,t.name,a)},expression:"query[d.name]"}})],1),e._v(" "),a("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),a("span",[e._v(e._s(t.type))])],1)})],2),e._v(" "),a("div",{staticClass:"request-json"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onCopy(e.params)}}},[e._v("点击复制")]),e._v(" "),a("div",[a("span",{domProps:{innerHTML:e._s(e.params)}}),e._v(" "),a("p",[e._v(e._s(e.params))])])],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("返回参数")]),e._v(" "),a("div",{staticClass:"main-response"},[a("div",{staticClass:"info"},[a("div",[e._v("\n        "+e._s(e.mainData.responsesData.title)+"\n        "),a("el-divider",{attrs:{direction:"vertical"}}),e._v("\n        "+e._s(e.mainData.responsesData.description)+"\n      ")],1),e._v(" "),a("div",[e._v("\n        名字\n        "),a("el-divider",{attrs:{direction:"vertical"}}),e._v("类型\n        "),a("el-divider",{attrs:{direction:"vertical"}}),e._v("描述\n        "),e._v(" "),e._l(e.mainData.responsesData.properties,function(t,n){return a("div",[e._v("\n          "+e._s(n)+"\n          "),a("el-divider",{attrs:{direction:"vertical"}}),e._v("\n          "+e._s(t.type)+"\n          "),a("el-divider",{attrs:{direction:"vertical"}}),e._v("\n          "+e._s(t.description)+"\n          "),a("el-divider",{attrs:{direction:"vertical"}})],1)})],2)]),e._v(" "),a("json-viewer",{staticClass:"json",staticStyle:{"max-height":"auto"},attrs:{value:e.responseData,"expand-depth":3,boxed:"",sort:""}})],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("底线")]),e._v(" "),a("div")],1)},staticRenderFns:[]};var y=a("VU/8")(h,_,!1,function(e){a("DIwv")},"data-v-2f24a4fe",null).exports,b=(a("OMJi"),a("mtWM")),g=a.n(b),w={data:function(){return{dialogVisible:!1,username:"",password:"",searchName:"",allMenuList:[],menuList:[],mainData:{},definitions:{},showMain:!1,doc:{info:{}}}},components:{mainDiv:y},created:function(){this.getDoc()},methods:{clearAndSerch:function(){this.searchName="",this.getDoc()},enterSearch:function(){var e=this;this.menuList=[],JSON.parse(localStorage.getItem("menu")).filter(function(t){if(t.name.includes(e.searchName))return e.menuList.push(t),!0;var a=[];t.child&&t.child.length>0&&(a=t.child.filter(function(t){return t.url.includes(e.searchName)||t.summary.includes(e.searchName)||t.tags[0].includes(e.searchName)})),a.length>0&&e.menuList.push({name:t.name,description:t.description,child:a})})},login:function(){var e=this;return f()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"/api/login",method:"post",data:{username:e.username,password:e.password}});case 2:0===(a=t.sent).data.ret?(localStorage.setItem("token",a.data.data),e.dialogVisible=!1,e.$message({message:"登录成功",type:"success",showClose:!0})):e.$message({message:a.data.msg,type:"info",showClose:!0});case 4:case"end":return t.stop()}},t,e)}))()},onClickMenu:function(e){var t=this;this.mainData=e,this.showMain=!0;var a=this.mainData.responses[200].schema.$ref.split("/")[2];this.mainData.responsesData=this.doc.definitions[a],this.$nextTick(function(){t.$refs.mainData.init()})},getDoc:function(){var e=this;return f()(m.a.mark(function t(){var a,n,i,s,r,o,l,u,p,v,f,h,_,y,b;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"/v2/api-docs",method:"get"});case 2:a=t.sent,e.doc=a.data,localStorage.setItem("definitions",d()(a.data.definitions)),n=e.doc.paths,i=[],i=e.doc.tags,t.t0=m.a.keys(n);case 9:if((t.t1=t.t0()).done){t.next=35;break}if(s=t.t1.value,(r={}).url=s,n.hasOwnProperty(s))for(l in o=n[s])if(r.method=l,o.hasOwnProperty(l))for(p in u=o[l])u.hasOwnProperty(p)&&(r[p]=u[p]);for(v=!0,f=!1,h=void 0,t.prev=17,_=c()(i);!(v=(y=_.next()).done);v=!0)(b=y.value).name==r.tags[0]&&(b.child||(b.child=[]),b.child.push(r));t.next=25;break;case 21:t.prev=21,t.t2=t.catch(17),f=!0,h=t.t2;case 25:t.prev=25,t.prev=26,!v&&_.return&&_.return();case 28:if(t.prev=28,!f){t.next=31;break}throw h;case 31:return t.finish(28);case 32:return t.finish(25);case 33:t.next=9;break;case 35:e.allMenuList=e.menuList=i,localStorage.setItem("menu",d()(e.allMenuList));case 37:case"end":return t.stop()}},t,e,[[17,21,25,33],[26,,28,32]])}))()}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",[a("div",{staticClass:"header-title"},[e._v(e._s(e.doc?e.doc.info.title:""))]),e._v(" "),a("div",{staticClass:"header-seach"},[a("el-input",{attrs:{placeholder:"搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearch(t)}},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.enterSearch},slot:"append"})],1)],1),e._v(" "),a("div",{staticClass:"header-right"},[a("el-button",{attrs:{type:"success"},on:{click:e.clearAndSerch}},[e._v("刷新菜单")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("登录")])],1)]),e._v(" "),a("el-container",[a("el-aside",{staticClass:"el-aside-vertical",attrs:{width:"250px"}},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"background-color":"rgb(17, 23, 29)","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.menuList,function(t,n){return a("el-submenu",{key:n,attrs:{index:n.toString()}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.child,function(t){return a("el-menu-item",{key:n+t.operationId,attrs:{index:n+t.operationId},on:{click:function(a){return e.onClickMenu(t)}}},[e._v(e._s(t.summary))])})],2)}),1)],1),e._v(" "),a("el-main",[e.showMain?a("main-div",{ref:"mainData",attrs:{mainData:e.mainData}}):e._e()],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"登录操作",visible:e.dialogVisible,width:"width"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"账号：","label-width":"100px"}},[a("el-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码：","label-width":"100px"}},[a("el-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var k={name:"app",components:{home:a("VU/8")(w,D,!1,function(e){a("SVPm")},"data-v-45d5ae01",null).exports}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("home")],1)},staticRenderFns:[]};var C=a("VU/8")(k,x,!1,function(e){a("jKCs")},null,null).exports,$=a("R0ti"),S=a.n($),L=a("mw3O"),M=a.n(L),N=a("wvfG"),q=a.n(N);q.a.config.autoSetContainer=!0,s.default.use(q.a),g.a.defaults.timeout=5e3,g.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",g.a.defaults.baseURL="/",s.default.prototype.$http=g.a,g.a.interceptors.request.use(function(e){return e.headers.Auth_token=window.localStorage.getItem("token"),"post"===e.method&&(e.data=M.a.stringify(e.data)),e},function(e){return i.a.reject(e)}),s.default.use(S.a),s.default.use(o.a),s.default.config.productionTip=!1,new s.default({render:function(e){return e(C)}}).$mount("#app")},SVPm:function(e,t){},jKCs:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.537d2065327313b27a1d.js.map